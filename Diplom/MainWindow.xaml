<Window x:Class="Diplom.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Diplom"
        xmlns:ui="clr-namespace:Diplom.UI"
        xmlns:converters="clr-namespace:Diplom.UI"
        mc:Ignorable="d"
        Title="Проект: " Height="450" Width="680" x:Name="MainWin">
    <Window.InputBindings>
        <KeyBinding Command="local:HotKeys.SaveCommand" Gesture="Ctrl+S" />
    </Window.InputBindings>
    <Window.CommandBindings>
        <CommandBinding Command="local:HotKeys.SaveCommand" Executed="SaveCurrentFileButton_Click" />
    </Window.CommandBindings>

    <Grid>

        <Menu Height="22" VerticalAlignment="Top">
            <MenuItem Header="Файл" Background="#DADADA" Height="20" Width="auto" BorderThickness="0" Margin="1">
                <MenuItem Header="Открыть"  x:Name="OpenFileButton" Click="OpenFileButton_Click">
                    <MenuItem.Icon>
                        <Image Source="Resources/OpenIcon.png"/>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Сохранить" x:Name="SaveCurrentFileButton" Click="SaveCurrentFileButton_Click">
                    <MenuItem.Icon>
                        <Image Source="Resources/SaveIcon.png"/>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Сохранить как" x:Name="SaveFileButton" Click="SaveFileButton_Click">
                    <MenuItem.Icon>
                        <Image Source="Resources/SaveAsIcon.png"/>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Импорт Ebsd из Excel" x:Name="ExcelImportButton" Click="ExcelImportButton_Click">
                    <MenuItem.Icon>
                        <Image Source="Resources/ExcelImportIcon.png"/>
                    </MenuItem.Icon>
                </MenuItem>
                <MenuItem Header="Настройки" x:Name="SettingsButton" Click="SettingsButton_Click">
                    <MenuItem.Icon>
                        <Image Source="Resources/SettingsIcon.png"/>
                    </MenuItem.Icon>
                </MenuItem>
            </MenuItem>
        </Menu>

        <Button Height="20" Width="20" BorderThickness="0" Background="#E0E0E0" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="50,1" Click="SaveCurrentFileButton_Click">
            <Image  Height="15" Width="15" Source="Resources/SaveIcon.png" />
        </Button>

        <StackPanel x:Name="ImageStackPanel" HorizontalAlignment="Right" Width="{Binding ElementName=MainWin, Path=Width, Converter={converters:PercentageConverter}, ConverterParameter='0,5'}" Orientation="Vertical">
            <StackPanel Background="#F0F0F0">
                <ui:ZoomBorder x:Name="MainImageContainer" ClipToBounds="True" Background="#FAFAFA" BorderBrush="Black" BorderThickness="1" MaxWidth="{Binding ElementName=ImageStackPanel, Path=Width}" Height="auto" MaxHeight="300" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="20,22,20,0">
                    <Image x:Name="MainImage" ClipToBounds="True" Stretch="Uniform" RenderOptions.BitmapScalingMode="NearestNeighbor" Source="Resources/EFXSes9UCfsyRVoNeQ2ZTB.png" MouseRightButtonUp="MainImage_MouseRightButtonUp"/>
                </ui:ZoomBorder>
                <Button x:Name="ResetImageSize" HorizontalAlignment="Right" Margin="0,10,20,0" Height="30" Width="30" BorderThickness="0" Background="#E0E0E0" Click="ResetImageSize_Click">
                    <Image  Height="25" Width="25" Source="Resources/ResetImageSize.png" RenderOptions.BitmapScalingMode="NearestNeighbor" />
                </Button>
            </StackPanel>
            <Label x:Name="X"/>
            <Label x:Name="Y"/>

        </StackPanel>


    </Grid>
</Window>
